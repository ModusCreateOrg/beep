/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */
const{h:n}=window.Ionic;let e=1;function t(n,t){Object.assign(n,t),n.overlayId=e++;const i=n.ownerDocument;return(i.querySelector("ion-app")||i.body).appendChild(n),n.componentOnReady()}function i(n,e,t,i){i=i>=0?i:a(t);const o=t.get(i);return o?o.dismiss(n,e):Promise.reject("overlay does not exist")}function o(n){return n.get(a(n))}function a(n){let e=-1;return n.forEach((n,t)=>{t>e&&(e=t)}),e}function s(n){const e=o(n);return e?e.dismiss():Promise.resolve()}async function r(n,e,t,i,o){if(n.presented)return;n.presented=!0,n.willPresent.emit();const a=n.enterAnimation?n.enterAnimation:n.config.get(e,"ios"===n.mode?t:i);await d(n,a,n.el,o),n.didPresent.emit()}async function c(n,e,t,i,o,a,s){if(!n.presented)return;n.presented=!1,n.willDismiss.emit({data:e,role:t});const r=n.leaveAnimation?n.leaveAnimation:n.config.get(i,"ios"===n.mode?o:a);await d(n,r,n.el,s),n.didDismiss.emit({data:e,role:t}),n.el.remove()}async function d(n,e,t,i){if(n.keyboardClose){const n=t.ownerDocument.activeElement;n&&n.blur&&n.blur()}n.animation&&(n.animation.destroy(),n.animation=void 0);const o=n.animation=await n.animationCtrl.create(e,t,i);n.animation=o,n.willAnimate||o.duration(0),await o.playAsync(),o.destroy(),n.animation=void 0}function m(n,e,t){let i;const o=new Promise(n=>i=n);return function(n,e,t){const i=o=>{n.removeEventListener(e,i),t(o)};n.addEventListener(e,i)}(n,e,n=>{const e=n.detail;t&&t(e),i(e)}),o}function l(n){return"cancel"===n||n===u}const u="backdrop";export{u as a,c as b,m as c,l as d,r as e,t as f,i as g,o as h,s as i};